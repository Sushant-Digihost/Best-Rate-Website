import React, { useState, useEffect } from 'react';
import { Container } from 'react-bootstrap';

export const PlanDetails = () => {
    const [activeIndex, setActiveIndex] = useState(0);
    const [hoveredIndex, sethoveredIndex] = useState(0);

    // Data for each plan
    const plans = [
        {
            title: "World's best checkout",
            description: "Best Rate checkout converts 15% better on average than other commerce platforms.",
            svg: `<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                            <g clip-path="url(#clip0_2146_7918)">
                                <circle cx="8.5" cy="8.5" r="8.5" fill="#B6FFFA"/>
                                <path d="M30.6208 10.8363L21.8392 2.05466C20.2768 0.492195 17.7397 0.492195 16.1773 2.05466C15.6035 2.62842 15.2256 3.34701 15.0756 4.1256C13.5043 2.70084 11.0697 2.74677 9.55665 4.26157C8.90344 4.91478 8.52383 5.73755 8.41617 6.58847C6.92255 5.85582 5.06174 6.10823 3.8188 7.35117C2.44527 8.72652 2.28108 10.8592 3.32622 12.4146C2.51412 12.5523 1.76549 12.9372 1.17055 13.5304C-0.390183 15.0912 -0.390183 17.6317 1.17055 19.1924L3.98655 22.0084V25.174C3.98655 29.5542 7.5511 33.1187 11.9313 33.1187H20.6317C23.2253 33.1187 25.6634 32.1089 27.4995 30.2745L30.6209 27.1531C32.7995 24.9745 34.0001 22.0774 34.0001 18.9948C34.0001 15.9122 32.7995 13.0149 30.6208 10.8363ZM29.3744 25.9048L26.253 29.0262C24.7506 30.5268 22.7538 31.3531 20.6335 31.3531H11.9313C8.52392 31.3531 5.75202 28.5813 5.75202 25.1738V23.7738L7.77529 25.7988C8.11956 26.1431 8.67925 26.1431 9.02353 25.7988C9.19475 25.6258 9.28132 25.3998 9.28132 25.1738C9.28132 24.9478 9.19657 24.7219 9.02353 24.5488L2.41878 17.9441C1.9968 17.5221 1.76376 16.9589 1.76376 16.3622C1.76376 15.7654 1.9968 15.2022 2.41878 14.7803C3.26449 13.9346 4.73865 13.9346 5.58436 14.7803L7.77537 16.9713C8.11964 17.3155 8.67934 17.3155 9.02361 16.9713C9.19483 16.7982 9.2814 16.5723 9.2814 16.3463C9.2814 16.1203 9.19665 15.8943 9.02361 15.7213L5.06712 11.7648C4.19493 10.8926 4.19493 9.47142 5.06712 8.59924C5.9393 7.72705 7.36051 7.72705 8.23269 8.59924L12.1892 12.5575C12.5335 12.9017 13.0931 12.9017 13.4374 12.5575C13.6105 12.3844 13.6952 12.1585 13.6952 11.9325C13.6952 11.7065 13.6105 11.4805 13.4374 11.3075L10.8051 8.67513C10.3831 8.25315 10.15 7.68998 10.15 7.09321C10.15 6.49644 10.3831 5.93328 10.8068 5.51129C11.679 4.63911 13.1002 4.63911 13.9724 5.51129L16.6047 8.14366C16.949 8.48793 17.5087 8.48793 17.853 8.14366C18.0242 7.97061 18.1108 7.74468 18.1108 7.51867C18.1108 7.29266 18.026 7.06673 17.853 6.89368L17.4275 6.46822C16.5553 5.59604 16.5553 4.17484 17.4275 3.30265C18.2732 2.45695 19.7474 2.45695 20.5931 3.30265L29.3747 12.0843C31.2196 13.9292 32.2365 16.385 32.2365 18.9945C32.2365 21.6039 31.2194 24.0598 29.3744 25.9048Z" fill="#122C65"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_2146_7918">
                                <rect width="34" height="34" fill="white"/>
                                </clipPath>
                            </defs>
                            </svg>`, // Insert your SVG markup here
        },
        {
            title: "In-person selling",
            description: "Sell in person and keep inventory in sync with online sales—all with Best Rate POS.",
            svg: `<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                    <circle cx="25.5" cy="8.5" r="8.5" fill="#B6FFFA"/>
                    <path d="M27.1137 28.6849C26.8445 28.6849 26.5754 28.5857 26.3629 28.3874C25.9379 27.9766 25.9379 27.3107 26.3487 26.8857C28.7712 24.4207 30.1029 21.1624 30.1029 17.7057C30.1029 10.4807 24.2237 4.60156 16.9987 4.60156C9.7737 4.60156 3.89453 10.4807 3.89453 17.7057C3.89453 21.1482 5.21203 24.3924 7.62037 26.8574C8.0312 27.2824 8.01703 27.9482 7.6062 28.3591C7.1812 28.7699 6.51536 28.7557 6.10453 28.3449C3.3137 25.4832 1.76953 21.7007 1.76953 17.7057C1.76953 9.3049 8.59787 2.47656 16.9987 2.47656C25.3995 2.47656 32.2279 9.3049 32.2279 17.7057C32.2279 21.7149 30.6837 25.5116 27.8645 28.3732C27.6662 28.5857 27.3829 28.6849 27.1137 28.6849Z" fill="#122C65"/>
                    <path d="M16.9988 31.5156C13.7829 31.5156 11.1621 28.8948 11.1621 25.679C11.1621 22.4631 13.7829 19.8281 16.9988 19.8281C20.2146 19.8281 22.8355 22.449 22.8355 25.6648C22.8355 28.8806 20.2146 31.5156 16.9988 31.5156ZM16.9988 21.9531C14.9446 21.9531 13.2871 23.6248 13.2871 25.6648C13.2871 27.7048 14.9588 29.3765 16.9988 29.3765C19.0388 29.3765 20.7105 27.7048 20.7105 25.6648C20.7105 23.6248 19.053 21.9531 16.9988 21.9531Z" fill="#122C65"/>
                    <path d="M22.666 18.0625H21.6035C20.4277 18.0625 19.4785 17.1133 19.4785 15.9375V14.875C19.4785 13.1183 20.9093 11.6875 22.666 11.6875C24.4227 11.6875 25.8535 13.1183 25.8535 14.875C25.8535 16.6317 24.4227 18.0625 22.666 18.0625ZM22.666 13.8125C22.0852 13.8125 21.6035 14.2942 21.6035 14.875V15.9375H22.666C23.2468 15.9375 23.7285 15.4558 23.7285 14.875C23.7285 14.2942 23.2468 13.8125 22.666 13.8125Z" fill="#122C65"/>
                    </svg>`,
        },
        {
            title: "Multiple sales channels",
            description: "Promote and sell products on Instagram, TikTok, Google, and other channels.",
            svg: `<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                <circle cx="8.5" cy="9.91675" r="8.5" fill="#B6FFFA"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.2826 5.01274C15.1223 5.01274 12.2216 5.24983 10.1927 5.44658C9.35088 5.52822 8.69388 6.19514 8.62872 7.04065C8.42697 9.6581 8.14277 13.9014 8.14277 16.9999C8.14277 20.0985 8.42697 24.3418 8.62872 26.9592C8.69388 27.8047 9.35088 28.4717 10.1927 28.5533C12.2216 28.75 15.1223 28.987 17.2826 28.987C19.4428 28.987 22.3436 28.75 24.3724 28.5533C25.2142 28.4717 25.8712 27.8047 25.9364 26.9592C26.1381 24.3418 26.4223 20.0985 26.4223 16.9999C26.4223 13.9014 26.1381 9.6581 25.9364 7.04065C25.8712 6.19514 25.2142 5.52822 24.3724 5.44658C22.3436 5.24983 19.4428 5.01274 17.2826 5.01274ZM9.97966 3.27739C12.0138 3.08013 15.0067 2.83325 17.2826 2.83325C19.5584 2.83325 22.5513 3.08013 24.5855 3.27739C26.495 3.46258 27.9777 4.98099 28.1236 6.87422C28.3253 9.49259 28.6159 13.8098 28.6159 16.9999C28.6159 20.1901 28.3253 24.5073 28.1236 27.1257C27.9777 29.0189 26.495 30.5373 24.5855 30.7225C22.5513 30.9197 19.5584 31.1666 17.2826 31.1666C15.0067 31.1666 12.0138 30.9197 9.97966 30.7225C8.0701 30.5373 6.5875 29.0189 6.44157 27.1257C6.23975 24.5073 5.94922 20.1901 5.94922 16.9999C5.94922 13.8098 6.23975 9.49259 6.44157 6.87422C6.5875 4.98099 8.0701 3.46258 9.97966 3.27739Z" fill="#122C65"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M14.7246 24.2655C14.7246 23.6637 15.2158 23.1758 15.8214 23.1758H18.7462C19.3519 23.1758 19.843 23.6637 19.843 24.2655C19.843 24.8673 19.3519 25.3552 18.7462 25.3552H15.8214C15.2158 25.3552 14.7246 24.8673 14.7246 24.2655Z" fill="#122C65"/>
                <path d="M18.7471 9.73596C18.7471 10.5384 18.0923 11.189 17.2847 11.189C16.477 11.189 15.8223 10.5384 15.8223 9.73596C15.8223 8.93349 16.477 8.28296 17.2847 8.28296C18.0923 8.28296 18.7471 8.93349 18.7471 9.73596Z" fill="#122C65"/>
                </svg>`,
        },
        {
            title: "In-depth analytics",
            description: "Access reports to track store performance and identify optimisation opportunities.",
            svg: `<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                    <g clip-path="url(#clip0_2200_2792)">
                        <circle cx="8.5" cy="8.5" r="8.5" fill="#B6FFFA"/>
                        <path d="M30.6208 10.8363L21.8392 2.05466C20.2768 0.492195 17.7397 0.492195 16.1773 2.05466C15.6035 2.62842 15.2256 3.34701 15.0756 4.1256C13.5043 2.70084 11.0697 2.74677 9.55665 4.26157C8.90344 4.91478 8.52383 5.73755 8.41617 6.58847C6.92255 5.85582 5.06174 6.10823 3.8188 7.35117C2.44527 8.72652 2.28108 10.8592 3.32622 12.4146C2.51412 12.5523 1.76549 12.9372 1.17055 13.5304C-0.390183 15.0912 -0.390183 17.6317 1.17055 19.1924L3.98655 22.0084V25.174C3.98655 29.5542 7.5511 33.1187 11.9313 33.1187H20.6317C23.2253 33.1187 25.6634 32.1089 27.4995 30.2745L30.6209 27.1531C32.7995 24.9745 34.0001 22.0774 34.0001 18.9948C34.0001 15.9122 32.7995 13.0149 30.6208 10.8363ZM29.3744 25.9048L26.253 29.0262C24.7506 30.5268 22.7538 31.3531 20.6335 31.3531H11.9313C8.52392 31.3531 5.75202 28.5813 5.75202 25.1738V23.7738L7.77529 25.7988C8.11956 26.1431 8.67925 26.1431 9.02353 25.7988C9.19475 25.6258 9.28132 25.3998 9.28132 25.1738C9.28132 24.9478 9.19657 24.7219 9.02353 24.5488L2.41878 17.9441C1.9968 17.5221 1.76376 16.9589 1.76376 16.3622C1.76376 15.7654 1.9968 15.2022 2.41878 14.7803C3.26449 13.9346 4.73865 13.9346 5.58436 14.7803L7.77537 16.9713C8.11964 17.3155 8.67934 17.3155 9.02361 16.9713C9.19483 16.7982 9.2814 16.5723 9.2814 16.3463C9.2814 16.1203 9.19665 15.8943 9.02361 15.7213L5.06712 11.7648C4.19493 10.8926 4.19493 9.47142 5.06712 8.59924C5.9393 7.72705 7.36051 7.72705 8.23269 8.59924L12.1892 12.5575C12.5335 12.9017 13.0931 12.9017 13.4374 12.5575C13.6105 12.3844 13.6952 12.1585 13.6952 11.9325C13.6952 11.7065 13.6105 11.4805 13.4374 11.3075L10.8051 8.67513C10.3831 8.25315 10.15 7.68998 10.15 7.09321C10.15 6.49644 10.3831 5.93328 10.8068 5.51129C11.679 4.63911 13.1002 4.63911 13.9724 5.51129L16.6047 8.14366C16.949 8.48793 17.5087 8.48793 17.853 8.14366C18.0242 7.97061 18.1108 7.74468 18.1108 7.51867C18.1108 7.29266 18.026 7.06673 17.853 6.89368L17.4275 6.46822C16.5553 5.59604 16.5553 4.17484 17.4275 3.30265C18.2732 2.45695 19.7474 2.45695 20.5931 3.30265L29.3747 12.0843C31.2196 13.9292 32.2365 16.385 32.2365 18.9945C32.2365 21.6039 31.2194 24.0598 29.3744 25.9048Z" fill="#122C65"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_2200_2792">
                        <rect width="34" height="34" fill="white"/>
                        </clipPath>
                    </defs>
                    </svg>`,
        },
        {
            title: "Commerce apps",
            description: "Use apps for everything from product sourcing to customizing your store.",
            svg: `<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
                    <g clip-path="url(#clip0_2200_2792)">
                        <circle cx="8.5" cy="8.5" r="8.5" fill="#B6FFFA"/>
                        <path d="M30.6208 10.8363L21.8392 2.05466C20.2768 0.492195 17.7397 0.492195 16.1773 2.05466C15.6035 2.62842 15.2256 3.34701 15.0756 4.1256C13.5043 2.70084 11.0697 2.74677 9.55665 4.26157C8.90344 4.91478 8.52383 5.73755 8.41617 6.58847C6.92255 5.85582 5.06174 6.10823 3.8188 7.35117C2.44527 8.72652 2.28108 10.8592 3.32622 12.4146C2.51412 12.5523 1.76549 12.9372 1.17055 13.5304C-0.390183 15.0912 -0.390183 17.6317 1.17055 19.1924L3.98655 22.0084V25.174C3.98655 29.5542 7.5511 33.1187 11.9313 33.1187H20.6317C23.2253 33.1187 25.6634 32.1089 27.4995 30.2745L30.6209 27.1531C32.7995 24.9745 34.0001 22.0774 34.0001 18.9948C34.0001 15.9122 32.7995 13.0149 30.6208 10.8363ZM29.3744 25.9048L26.253 29.0262C24.7506 30.5268 22.7538 31.3531 20.6335 31.3531H11.9313C8.52392 31.3531 5.75202 28.5813 5.75202 25.1738V23.7738L7.77529 25.7988C8.11956 26.1431 8.67925 26.1431 9.02353 25.7988C9.19475 25.6258 9.28132 25.3998 9.28132 25.1738C9.28132 24.9478 9.19657 24.7219 9.02353 24.5488L2.41878 17.9441C1.9968 17.5221 1.76376 16.9589 1.76376 16.3622C1.76376 15.7654 1.9968 15.2022 2.41878 14.7803C3.26449 13.9346 4.73865 13.9346 5.58436 14.7803L7.77537 16.9713C8.11964 17.3155 8.67934 17.3155 9.02361 16.9713C9.19483 16.7982 9.2814 16.5723 9.2814 16.3463C9.2814 16.1203 9.19665 15.8943 9.02361 15.7213L5.06712 11.7648C4.19493 10.8926 4.19493 9.47142 5.06712 8.59924C5.9393 7.72705 7.36051 7.72705 8.23269 8.59924L12.1892 12.5575C12.5335 12.9017 13.0931 12.9017 13.4374 12.5575C13.6105 12.3844 13.6952 12.1585 13.6952 11.9325C13.6952 11.7065 13.6105 11.4805 13.4374 11.3075L10.8051 8.67513C10.3831 8.25315 10.15 7.68998 10.15 7.09321C10.15 6.49644 10.3831 5.93328 10.8068 5.51129C11.679 4.63911 13.1002 4.63911 13.9724 5.51129L16.6047 8.14366C16.949 8.48793 17.5087 8.48793 17.853 8.14366C18.0242 7.97061 18.1108 7.74468 18.1108 7.51867C18.1108 7.29266 18.026 7.06673 17.853 6.89368L17.4275 6.46822C16.5553 5.59604 16.5553 4.17484 17.4275 3.30265C18.2732 2.45695 19.7474 2.45695 20.5931 3.30265L29.3747 12.0843C31.2196 13.9292 32.2365 16.385 32.2365 18.9945C32.2365 21.6039 31.2194 24.0598 29.3744 25.9048Z" fill="#122C65"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_2200_2792">
                        <rect width="34" height="34" fill="white"/>
                        </clipPath>
                    </defs>
                    </svg>`,
        },
    ];
    // const planCount = plans.length;

    // Function to change active class every 5 seconds
    // useEffect(() => {
    //     let interval = setInterval(() => {
    //         setActiveIndex((prevIndex) => (prevIndex + 1) % planCount); 
    //     }, 4000); 

    //     return () => clearInterval(interval);
    // }, [planCount]);

    useEffect(()=>{
        if(hoveredIndex == null){
            const interval = setInterval(() => {
                setActiveIndex((prevIndex)=>(prevIndex + 1) % plans.length);
            }, 3000);
            return () => clearInterval(interval);
        }
    },[hoveredIndex,plans.length])


    const handleMouseEnter=(index)=>{
        sethoveredIndex(index);
        setActiveIndex(index);
    }
    const handleMouseLeave=()=>{
        sethoveredIndex(null);
    }

    return (
        <div className="plandetails section">
            <Container>
                <div className="section_heading position-relative z-1">
                    <h2 className="heading text-dark">What every plan gets you</h2>
                </div>
                <div className="box_wrapper">
                    {plans.map((plan, index) => (
                        <div
                            key={index}
                            className={`plan-box ${activeIndex === index ? 'active' : ''}`}
                            onMouseEnter={()=> handleMouseEnter(index)}
                            onMouseLeave={handleMouseLeave}
                        >
                            <div
                                className="svg-container d-inline-block"
                                dangerouslySetInnerHTML={{ __html: plan.svg }}
                            ></div>
                            <h3 className='box_title'>{plan.title}</h3>
                            <p className='box_desc'>{plan.description}</p>
                        </div>
                    ))}
                    <div className="plan-box1">
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard.</p>
                    </div>
                </div>
            </Container>
        </div>
    );
};
